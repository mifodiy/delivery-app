{"version":3,"file":"static/js/666.453a67cf.chunk.js","mappings":"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","sources":["components/map/Map.js","components/cartForm/CartForm.js","components/counter/Counter.js","components/cartItem/CartItem.js","components/cartList/CartList.js","components/pages/CartPage.js"],"sourcesContent":["import { GoogleMap, Marker, DirectionsRenderer } from '@react-google-maps/api'\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Map = ({ directionResponse }) => {\r\n  const { activeCoordinates } = useSelector(state => state.shops);\r\n\r\n  const containerStyle = {\r\n    width: '100%',\r\n    height: '300px'\r\n  };\r\n\r\n  return (\r\n    <GoogleMap\r\n      center={activeCoordinates}\r\n      zoom={15}\r\n      mapContainerStyle={containerStyle}\r\n      options={{\r\n        zoomControl: false,\r\n        streetViewControl: false,\r\n        mapTypeControl: false,\r\n        fullscreenControl: false\r\n      }}>\r\n      <Marker position={activeCoordinates} />\r\n      {directionResponse && <DirectionsRenderer directions={directionResponse} />}\r\n    </GoogleMap>\r\n  )\r\n}\r\n\r\nexport default Map;","import { useRef, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useJsApiLoader, Autocomplete } from '@react-google-maps/api'\r\n\r\nimport { useHttp } from '../../hooks/http.hook'\r\nimport { clearCart } from \"../cartList/cartSlice\";\r\nimport './cartForm.scss'\r\nimport Map from \"../map/Map\";\r\n\r\nconst libraries = ['places']\r\n\r\nconst CartForm = () => {\r\n  const addressRef = useRef('');\r\n  const [directionResponse, setDirectionResponse] = useState(null);\r\n  const { totalPrice, items } = useSelector(state => state.cart);\r\n  const { activeAddress } = useSelector(state => state.shops);\r\n  const { request } = useHttp();\r\n  const dispatch = useDispatch();\r\n  const phoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/;\r\n  const schema = yup.object({\r\n    firstName: yup.string().required('Name is a required field'),\r\n    email: yup.string().email().required('Email is a required field'),\r\n    phoneNumber: yup.string().matches(phoneRegExp, 'Phone number is not valid').required('phone is a required field'),\r\n  }).required();\r\n\r\n  const { register, handleSubmit, formState: { errors }, reset } = useForm({\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const { isLoaded } = useJsApiLoader({\r\n    googleMapsApiKey: \"AIzaSyDxg6WbNrQbgIeNo542YkjVg_ltBY8DT8w\",\r\n    libraries\r\n  })\r\n\r\n  if (!isLoaded) {\r\n    return <h5>Map is not loading</h5>\r\n  }\r\n\r\n  const calculateRout = async () => {\r\n    if (addressRef.current.value === '') {\r\n      return\r\n    }    \r\n\r\n    // eslint-disable-next-line no-undef\r\n    const directionService = new google.maps.DirectionsService();\r\n    const result = await directionService.route({\r\n      origin: activeAddress,\r\n      destination: addressRef.current.value,\r\n      // eslint-disable-next-line no-undef\r\n      travelMode: google.maps.TravelMode.DRIVING\r\n    });\r\n    setDirectionResponse(result);\r\n  }\r\n\r\n  const onSubmit = data => {\r\n \r\n    const result = { ...data, address: addressRef.current.value, items };\r\n\r\n    request(\"https://647478397de100807b1b010c.mockapi.io/orders\", 'POST', JSON.stringify(result))\r\n      .then(reset())\r\n      .then(dispatch(clearCart()))\r\n      .catch('Something went wrong')\r\n\r\n  }\r\n \r\n  return (\r\n    <form className=\"cart-form\" onSubmit={handleSubmit(onSubmit)}>\r\n      <Map directionResponse={directionResponse} />\r\n\r\n      <label className=\"cart-form__label\">\r\n        Name:\r\n        <input className=\"cart-form__input\" {...register(\"firstName\")} />\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.firstName?.message}</p>\r\n\r\n      <label className=\"cart-form__label\">\r\n        Email:\r\n        <input className=\"cart-form__input\" {...register(\"email\")} />\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.email?.message}</p>\r\n      <label className=\"cart-form__label\">\r\n        Phone:\r\n        <input className=\"cart-form__input\" {...register(\"phoneNumber\")} />\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.phoneNumber?.message}</p>\r\n      <label className=\"cart-form__label\">\r\n        Address:\r\n        <Autocomplete onPlaceChanged={calculateRout} >\r\n          <input className=\"cart-form__input\" {...register(\"address\")}  type=\"text\" ref={addressRef} />\r\n        </Autocomplete>\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.address?.message}</p>\r\n\r\n      <div className=\"cart-form__box\">\r\n        <span className=\"cart-form__price\">Total price: {totalPrice}</span>\r\n        <button className=\"cart-form__btn\" type=\"submit\" >Submit</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CartForm;","import {useState} from \"react\"\r\n\r\nimport './counter.scss'\r\n\r\nconst Counter = ({amount, dec, inc}) => {\r\n  const [count, setCount] = useState(amount);\r\n\r\n  const onIncriment = () => {\r\n    if (count < 99)\r\n    inc();\r\n    setCount(state => state + 1);\r\n  }\r\n\r\n  const onDecrement = () => {\r\n    if (count > 1) {\r\n      dec();\r\n      setCount(state => state - 1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"count\">\r\n      <span className=\"count__amount\">{count}</span>\r\n      <div className=\"count__buttons\">\r\n        <button className=\"count__btn count__btn--plus\" onClick={onIncriment}/>\r\n        <button className=\"count__btn count__btn--minus\" onClick={onDecrement}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Counter;","import { useDispatch } from \"react-redux\";\r\nimport Counter from \"../counter/Counter\";\r\nimport {decCount, incCount, removeItem} from '../cartList/cartSlice'\r\n\r\nconst CartItem = ({title, url, price, count, id}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onIncriment = () => {\r\n    dispatch(incCount(id));\r\n  }\r\n\r\n  const onDecrement = () => {\r\n    dispatch(decCount(id));\r\n  }\r\n\r\n  const onRemove = () => {\r\n    dispatch(removeItem(id));\r\n  }\r\n  \r\n  \r\n  return (\r\n    <li className=\"cart-list__item\">\r\n      <img className=\"cart-list__img\" src={url} alt={title}/>\r\n      <div className=\"cart-list__box\">\r\n        <h3 className=\"cart-list__title\">{title}</h3>\r\n        <span className=\"cart-list__price\">Price: {price}$</span>\r\n        <Counter amount={count} inc={onIncriment} dec={onDecrement}/>\r\n      </div>\r\n      <button className='btn-close cart-list__btn' onClick={onRemove}/>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default CartItem;","import { useSelector } from 'react-redux'\r\n\r\nimport CartItem from '../cartItem/CartItem'\r\nimport './cartList.scss'\r\n\r\nconst CartList = () => {\r\n  const {items} = useSelector(state => state.cart)\r\n\r\n  const elements = items.length>0 ? items.map(({id, ...props}) => {\r\n    return <CartItem key={id} id={id} {...props}/>\r\n  }) : <h3>Cart is Empty</h3>\r\n  return (\r\n    <div className=\"cart-list\">\r\n      <ul className=\"cart-list__items\">\r\n        {elements}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartList","import CartForm from \"../cartForm/CartForm\"\r\nimport CartList from \"../cartList/CartList\"\r\n\r\n\r\nconst CartPage = () => {\r\n  return (\r\n    <div className=\"cart__wrapper\" style={{display: 'flex'}}>\r\n      <CartList />\r\n      <CartForm />\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default CartPage"],"names":["_ref","directionResponse","activeCoordinates","useSelector","state","shops","_jsxs","GoogleMap","center","zoom","mapContainerStyle","width","height","options","zoomControl","streetViewControl","mapTypeControl","fullscreenControl","children","_jsx","Marker","position","DirectionsRenderer","directions","libraries","_errors$firstName","_errors$email","_errors$phoneNumber","_errors$address","addressRef","useRef","_useState","useState","_useState2","_slicedToArray","setDirectionResponse","_useSelector","cart","totalPrice","items","activeAddress","request","useHttp","dispatch","useDispatch","schema","yup","firstName","required","email","phoneNumber","matches","_useForm","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","reset","useJsApiLoader","googleMapsApiKey","isLoaded","calculateRout","_asyncToGenerator","_regeneratorRuntime","mark","_callee","directionService","result","wrap","_context","prev","next","current","value","abrupt","google","maps","DirectionsService","route","origin","destination","travelMode","TravelMode","DRIVING","sent","stop","apply","arguments","className","onSubmit","data","_objectSpread","address","JSON","stringify","then","clearCart","catch","Map","message","Autocomplete","onPlaceChanged","type","ref","amount","dec","inc","count","setCount","onClick","title","url","price","id","src","alt","Counter","incCount","decCount","removeItem","elements","length","map","props","_objectWithoutProperties","_excluded","CartItem","style","display","CartList","CartForm"],"sourceRoot":""}