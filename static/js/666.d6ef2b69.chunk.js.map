{"version":3,"file":"static/js/666.d6ef2b69.chunk.js","mappings":"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","sources":["components/map/Map.js","components/cartForm/CartForm.js","components/counter/Counter.js","components/cartItem/CartItem.js","components/cartList/CartList.js","components/pages/CartPage.js"],"sourcesContent":["import { GoogleMap, Marker, DirectionsRenderer } from '@react-google-maps/api'\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Map = ({ directionResponse }) => {\r\n  const { activeCoordinates } = useSelector(state => state.shops);\r\n\r\n  const containerStyle = {\r\n    width: '100%',\r\n    height: '300px'\r\n  };\r\n\r\n  return (\r\n    <GoogleMap\r\n      center={activeCoordinates}\r\n      zoom={15}\r\n      mapContainerStyle={containerStyle}\r\n      options={{\r\n        zoomControl: false,\r\n        streetViewControl: false,\r\n        mapTypeControl: false,\r\n        fullscreenControl: false\r\n      }}>\r\n      <Marker position={activeCoordinates} />\r\n      {directionResponse && <DirectionsRenderer directions={directionResponse} />}\r\n    </GoogleMap>\r\n  )\r\n}\r\n\r\nexport default Map;","import { useRef, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useJsApiLoader, Autocomplete } from '@react-google-maps/api'\r\n\r\nimport { useHttp } from '../../hooks/http.hook'\r\nimport { clearCart } from \"../cartList/cartSlice\";\r\nimport './cartForm.scss';\r\nimport Map from \"../map/Map\";\r\n\r\nconst libraries = ['places']\r\n\r\nconst CartForm = () => {\r\n  const addressRef = useRef('');\r\n  const [directionResponse, setDirectionResponse] = useState(null);\r\n  const { totalPrice, items } = useSelector(state => state.cart);\r\n  const { activeAddress } = useSelector(state => state.shops);\r\n  const { request } = useHttp();\r\n  const dispatch = useDispatch();\r\n  const phoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/;\r\n  const schema = yup.object({\r\n    firstName: yup.string().required('Name is a required field'),\r\n    email: yup.string().email().required('Email is a required field'),\r\n    phoneNumber: yup.string().matches(phoneRegExp, 'Phone number is not valid').required('phone is a required field'),\r\n    address: yup.string().required('Address is a required field')\r\n  }).required();\r\n\r\n  const { register, handleSubmit, formState: { errors }, reset, setValue } = useForm({\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const { isLoaded } = useJsApiLoader({\r\n    googleMapsApiKey:process.env.REACT_APP_GOOGLE_MAPS_API,\r\n    libraries\r\n  })\r\n\r\n\r\n  if (!isLoaded) {\r\n    return <h5>Map is not loading</h5>\r\n  }\r\n\r\n  const calculateRout = async () => {\r\n    if (addressRef.current.value === '') {\r\n      return\r\n    }    \r\n\r\n    setValue(\"address\", addressRef.current.value, {shouldValidate: true});\r\n\r\n    // eslint-disable-next-line no-undef\r\n    const directionService = new google.maps.DirectionsService();\r\n    const result = await directionService.route({\r\n      origin: activeAddress,\r\n      destination: addressRef.current.value,\r\n      // eslint-disable-next-line no-undef\r\n      travelMode: google.maps.TravelMode.DRIVING\r\n    });\r\n    setDirectionResponse(result);\r\n  }\r\n\r\n  const onSubmit = data => {\r\n \r\n    const result = { ...data, address: addressRef.current.value, items };\r\n\r\n    request(\"https://647478397de100807b1b010c.mockapi.io/orders\", 'POST', JSON.stringify(result))\r\n      .then(reset())\r\n      .then(dispatch(clearCart()))\r\n      .catch('Something went wrong')\r\n\r\n  }\r\n \r\n  return (\r\n    <form className=\"cart-form\" onSubmit={handleSubmit(onSubmit)}>\r\n      <Map directionResponse={directionResponse} />\r\n\r\n      <label className=\"cart-form__label\">\r\n        Name:\r\n        <input className=\"cart-form__input\" {...register(\"firstName\")} />\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.firstName?.message}</p>\r\n\r\n      <label className=\"cart-form__label\">\r\n        Email:\r\n        <input className=\"cart-form__input\" {...register(\"email\")} />\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.email?.message}</p>\r\n      <label className=\"cart-form__label\">\r\n        Phone:\r\n        <input className=\"cart-form__input\" {...register(\"phoneNumber\")} />\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.phoneNumber?.message}</p>\r\n      <label className=\"cart-form__label\">\r\n        Address:\r\n        <Autocomplete onPlaceChanged={calculateRout} >\r\n          <input className=\"cart-form__input\" {...register(\"address\")}  type=\"text\" ref={addressRef} />\r\n        </Autocomplete>\r\n      </label>\r\n      <p className=\"cart-form__error\">{errors.address?.message}</p>\r\n\r\n      <div className=\"cart-form__box\">\r\n        <span className=\"cart-form__price\">Total price: {totalPrice}</span>\r\n        <button className=\"cart-form__btn\" type=\"submit\" >Submit</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CartForm;","import {useState} from \"react\"\r\n\r\nimport './counter.scss'\r\n\r\nconst Counter = ({amount, dec, inc}) => {\r\n  const [count, setCount] = useState(amount);\r\n\r\n  const onIncriment = () => {\r\n    if (count < 99)\r\n    inc();\r\n    setCount(state => state + 1);\r\n  }\r\n\r\n  const onDecrement = () => {\r\n    if (count > 1) {\r\n      dec();\r\n      setCount(state => state - 1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"count\">\r\n      <span className=\"count__amount\">{count}</span>\r\n      <div className=\"count__buttons\">\r\n        <button className=\"count__btn count__btn--plus\" onClick={onIncriment}/>\r\n        <button className=\"count__btn count__btn--minus\" onClick={onDecrement}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Counter;","import { useDispatch } from \"react-redux\";\r\nimport Counter from \"../counter/Counter\";\r\nimport {decCount, incCount, removeItem} from '../cartList/cartSlice'\r\n\r\nconst CartItem = ({title, url, price, count, id}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onIncriment = () => {\r\n    dispatch(incCount(id));\r\n  }\r\n\r\n  const onDecrement = () => {\r\n    dispatch(decCount(id));\r\n  }\r\n\r\n  const onRemove = () => {\r\n    dispatch(removeItem(id));\r\n  }\r\n  \r\n  \r\n  return (\r\n    <li className=\"cart-list__item\">\r\n      <img className=\"cart-list__img\" src={url} alt={title}/>\r\n      <div className=\"cart-list__box\">\r\n        <h3 className=\"cart-list__title\">{title}</h3>\r\n        <span className=\"cart-list__price\">Price: {price}$</span>\r\n        <Counter amount={count} inc={onIncriment} dec={onDecrement}/>\r\n      </div>\r\n      <button className='btn-close cart-list__btn' onClick={onRemove}/>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default CartItem;","import { useSelector } from 'react-redux'\r\n\r\nimport CartItem from '../cartItem/CartItem'\r\nimport './cartList.scss'\r\n\r\nconst CartList = () => {\r\n  const {items} = useSelector(state => state.cart)\r\n\r\n  const elements = items.length>0 ? items.map(({id, ...props}) => {\r\n    return <CartItem key={id} id={id} {...props}/>\r\n  }) : <h3>Cart is Empty</h3>\r\n  return (\r\n    <div className=\"cart-list\">\r\n      <ul className=\"cart-list__items\">\r\n        {elements}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartList","import CartForm from \"../cartForm/CartForm\"\r\nimport CartList from \"../cartList/CartList\"\r\n\r\n\r\nconst CartPage = () => {\r\n  return (\r\n    <div className=\"cart__wrapper\" style={{display: 'flex'}}>\r\n      <CartList />\r\n      <CartForm />\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default CartPage"],"names":["_ref","directionResponse","activeCoordinates","useSelector","state","shops","_jsxs","GoogleMap","center","zoom","mapContainerStyle","width","height","options","zoomControl","streetViewControl","mapTypeControl","fullscreenControl","children","_jsx","Marker","position","DirectionsRenderer","directions","libraries","_errors$firstName","_errors$email","_errors$phoneNumber","_errors$address","addressRef","useRef","_useState","useState","_useState2","_slicedToArray","setDirectionResponse","_useSelector","cart","totalPrice","items","activeAddress","request","useHttp","dispatch","useDispatch","schema","yup","firstName","required","email","phoneNumber","matches","address","_useForm","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","reset","setValue","useJsApiLoader","googleMapsApiKey","process","isLoaded","calculateRout","_asyncToGenerator","_regeneratorRuntime","mark","_callee","directionService","result","wrap","_context","prev","next","current","value","abrupt","shouldValidate","google","maps","DirectionsService","route","origin","destination","travelMode","TravelMode","DRIVING","sent","stop","apply","arguments","className","onSubmit","data","_objectSpread","JSON","stringify","then","clearCart","catch","Map","message","Autocomplete","onPlaceChanged","type","ref","amount","dec","inc","count","setCount","onClick","title","url","price","id","src","alt","Counter","incCount","decCount","removeItem","elements","length","map","props","_objectWithoutProperties","_excluded","CartItem","style","display","CartList","CartForm"],"sourceRoot":""}